function sampleRUM(e,t){var a=()=>window.performance?window.performance.now():Date.now()-window.hlx.rum.firstReadTime;try{if(window.hlx=window.hlx||{},sampleRUM.enhance=()=>{},!window.hlx.rum){let r="on"===new URLSearchParams(window.location.search).get("rum")?1:100,l=Math.random().toString(36).slice(-4);var o=Math.random()*r<1;window.hlx.rum={weight:r,id:l,isSelected:o,firstReadTime:window.performance?window.performance.timeOrigin:Date.now(),sampleRUM:sampleRUM,queue:[],collector:(...e)=>window.hlx.rum.queue.push(e)},o&&(["error","unhandledrejection"].forEach(e=>{window.addEventListener(e,({reason:e,error:t})=>{var a={source:"undefined error"};try{a.target=(e||t).toString(),a.source=(e||t).stack.split("\n").filter(e=>e.match(/https?:\/\//)).shift().replace(/at ([^ ]+) \((.+)\)/,"$1@$2").trim()}catch(e){}sampleRUM("error",a)})}),sampleRUM.baseURL=sampleRUM.baseURL||new URL(window.RUM_BASE||"/",new URL("https://rum.hlx.page")),sampleRUM.collectBaseURL=sampleRUM.collectBaseURL||sampleRUM.baseURL,sampleRUM.sendPing=(e,t,a={})=>{var t=JSON.stringify({weight:r,id:l,referer:window.location.href,checkpoint:e,t:t,...a}),{href:o,origin:n}=new URL(".rum/"+r,sampleRUM.collectBaseURL),n=n===window.location.origin?new Blob([t],{type:"application/json"}):t;navigator.sendBeacon(o,n),console.debug("ping:"+e,a)},sampleRUM.sendPing("top",a()),sampleRUM.enhance=()=>{var e=document.createElement("script");e.src=new URL(".rum/@adobe/helix-rum-enhancer@^2/src/index.js",sampleRUM.baseURL).href,document.head.appendChild(e)},window.hlx.RUM_MANUAL_ENHANCE||sampleRUM.enhance())}window.hlx.rum&&window.hlx.rum.isSelected&&e&&window.hlx.rum.collector(e,t,a()),document.dispatchEvent(new CustomEvent("rum",{detail:{checkpoint:e,data:t}}))}catch(e){}}function setup(){window.hlx=window.hlx||{},window.hlx.RUM_MASK_URL="full",window.hlx.RUM_MANUAL_ENHANCE=!0,window.hlx.codeBasePath="",window.hlx.lighthouse="on"===new URLSearchParams(window.location.search).get("lighthouse");var e=document.querySelector('script[src$="/scripts/scripts.js"]');if(e)try{[window.hlx.codeBasePath]=new URL(e.src).pathname.split("/scripts/scripts.js")}catch(e){console.log(e)}}function init(){setup(),sampleRUM()}function toClassName(e){return"string"==typeof e?e.toLowerCase().replace(/[^0-9a-z]/gi,"-").replace(/-+/g,"-").replace(/^-|-$/g,""):""}function toCamelCase(e){return toClassName(e).replace(/-([a-z])/g,e=>e[1].toUpperCase())}function readBlockConfig(e){let r={};return e.querySelectorAll(":scope > div").forEach(t=>{if(t.children){var a=[...t.children];if(a[1]){var o,n=a[1],a=toClassName(a[0].textContent);let e="";e=n.querySelector("a")?1===(o=[...n.querySelectorAll("a")]).length?o[0].href:o.map(e=>e.href):n.querySelector("img")?1===(o=[...n.querySelectorAll("img")]).length?o[0].src:o.map(e=>e.src):n.querySelector("p")?1===(o=[...n.querySelectorAll("p")]).length?o[0].textContent:o.map(e=>e.textContent):t.children[1].textContent,r[a]=e}}}),r}async function loadCSS(o){return new Promise((e,t)=>{var a;document.querySelector(`head > link[href="${o}"]`)?e():((a=document.createElement("link")).rel="stylesheet",a.href=o,a.onload=e,a.onerror=t,document.head.append(a))})}async function loadScript(n,r){return new Promise((e,t)=>{if(document.querySelector(`head > script[src="${n}"]`))e();else{var a=document.createElement("script");if(a.src=n,r)for(var o in r)a.setAttribute(o,r[o]);a.onload=e,a.onerror=t,document.head.append(a)}})}function getMetadata(e,t=document){var a=e&&e.includes(":")?"property":"name";return[...t.head.querySelectorAll(`meta[${a}="${e}"]`)].map(e=>e.content).join(", ")||""}function createOptimizedPicture(e,a="",o=!1,n=[{media:"(min-width: 600px)",width:"2000"},{width:"750"}]){e=new URL(e,window.location.href);let r=document.createElement("picture"),l=e.pathname,i=l.substring(l.lastIndexOf(".")+1);return n.forEach(e=>{var t=document.createElement("source");e.media&&t.setAttribute("media",e.media),t.setAttribute("type","image/webp"),t.setAttribute("srcset",`${l}?width=${e.width}&format=webply&optimize=medium`),r.appendChild(t)}),n.forEach((e,t)=>{t<n.length-1?(t=document.createElement("source"),e.media&&t.setAttribute("media",e.media),t.setAttribute("srcset",`${l}?width=${e.width}&format=${i}&optimize=medium`),r.appendChild(t)):((t=document.createElement("img")).setAttribute("loading",o?"eager":"lazy"),t.setAttribute("alt",a),r.appendChild(t),t.setAttribute("src",`${l}?width=${e.width}&format=${i}&optimize=medium`))}),r}function decorateTemplateAndTheme(){var e=(t,e)=>{e.split(",").forEach(e=>{t.classList.add(toClassName(e.trim()))})},t=getMetadata("template"),t=(t&&e(document.body,t),getMetadata("theme"));t&&e(document.body,t)}function wrapTextNodes(e){let a=["P","PRE","UL","OL","PICTURE","TABLE","H1","H2","H3","H4","H5","H6"],o=e=>{var t=document.createElement("p");t.append(...e.childNodes),e.append(t)};e.querySelectorAll(":scope > div > div").forEach(t=>{t.hasChildNodes()&&(!t.firstElementChild||!a.some(e=>t.firstElementChild.tagName===e)||"PICTURE"===t.firstElementChild.tagName&&(1<t.children.length||t.textContent.trim()))&&o(t)})}function decorateButtons(e){e.querySelectorAll("a").forEach(e=>{var t,a;e.href!==e.textContent&&(t=e.parentElement,a=e.parentElement.parentElement,!e.querySelector("img"))&&e.href.indexOf("urn:aaid:aem:")<0&&(1!==t.childNodes.length||"P"!==t.tagName&&"DIV"!==t.tagName||t.classList.add("button-container"),1!==t.childNodes.length||"STRONG"!==t.tagName||1!==a.childNodes.length||"P"!==a.tagName&&"DIV"!==a.tagName||(e.className="button primary",a.classList.add("button-container")),1!==t.childNodes.length||"EM"!==t.tagName||1!==a.childNodes.length||"P"!==a.tagName&&"DIV"!==a.tagName||(e.className="button secondary",a.classList.add("button-container")))})}function decorateIcon(e,t="",a=""){var o=Array.from(e.classList).find(e=>e.startsWith("icon-")).substring(5),n=document.createElement("img");n.dataset.iconName=o,n.src=""+window.hlx.codeBasePath+t+`/icons/${o}.svg`,n.alt=a,n.loading="lazy",e.append(n)}function decorateFontIcon(e){var t=Array.from(e.classList).find(e=>e.startsWith("icon-")).substring(5);let a="regular",o="";t.includes("--")?[a,o]=t.split("--"):o=t;var n=document.createElement("i");n.classList.add("fa-"+a),n.classList.add("fa-"+o),n.dataset.iconName=t,e.append(n)}function decorateIcons(e,t=0){[...e.querySelectorAll("span.icon")].forEach(e=>{decorateFontIcon(e)})}function decorateSections(e){e.querySelectorAll(":scope > div").forEach(a=>{let o=[],n=!1;[...a.children].forEach(e=>{var t;"DIV"!==e.tagName&&n||(t=document.createElement("div"),o.push(t),(n="DIV"!==e.tagName)&&t.classList.add("default-content-wrapper")),o[o.length-1].append(e)}),o.forEach(e=>a.append(e)),a.classList.add("section"),a.dataset.sectionStatus="initialized",a.style.display="none";var e=a.querySelector("div.section-metadata");if(e){let t=readBlockConfig(e);Object.keys(t).forEach(e=>{"style"===e?t.style.split(",").filter(e=>e).map(e=>toClassName(e.trim())).forEach(e=>a.classList.add(e)):a.dataset[toCamelCase(e)]=t[e]}),e.parentNode.remove()}})}async function fetchPlaceholders(o="default"){return window.placeholders=window.placeholders||{},window.placeholders[o]||(window.placeholders[o]=new Promise(a=>{fetch(`${"default"===o?"":o}/placeholders.json`).then(e=>e.ok?e.json():{}).then(e=>{let t={};e.data.filter(e=>e.Key).forEach(e=>{t[toCamelCase(e.Key)]=e.Text}),window.placeholders[o]=t,a(window.placeholders[o])}).catch(()=>{window.placeholders[o]={},a(window.placeholders[o])})})),window.placeholders[""+o]}function buildBlock(e,t){t=Array.isArray(t)?t:[[t]];let o=document.createElement("div");return o.classList.add(e),t.forEach(e=>{let a=document.createElement("div");e.forEach(e=>{let t=document.createElement("div");(e.elems||[e]).forEach(e=>{e&&("string"==typeof e?t.innerHTML+=e:t.appendChild(e))}),a.appendChild(t)}),o.appendChild(a)}),o}async function loadBlock(n){var e=n.dataset.blockStatus;if("loading"!==e&&"loaded"!==e){n.dataset.blockStatus="loading";let a=n.dataset.blockName;let o=!0;["blocks/adhoc-modal","blocks/cobranded-modal","blocks/external-popup","blocks/language-helper","blocks/medicare-modal"].forEach(e=>{e.includes(a)&&(o=o&&!1)});try{var t=o&&loadCSS(`${window.hlx.codeBasePath}/blocks/${a}/${a}.css`),r=new Promise(t=>{(async()=>{try{var e=o&&await import(`${window.hlx.codeBasePath}/blocks/${a}/${a}.js`);e.default&&await e.default(n)}catch(e){console.log("failed to load module for "+a,e)}t()})()});await Promise.all([t,r])}catch(e){console.log("failed to load block "+a,e)}n.dataset.blockStatus="loaded"}return n}function decorateBlock(e){var t=e.classList[0];t&&(e.classList.add("block"),e.dataset.blockName=t,e.dataset.blockStatus="initialized",wrapTextNodes(e),e.parentElement.classList.add(t+"-wrapper"),e=e.closest(".section"))&&e.classList.add(t+"-container")}function decorateBlocks(e){e.querySelectorAll("div.section > div > div").forEach(decorateBlock)}async function loadHeader(e){var t=buildBlock("header","");return e.append(t),decorateBlock(t),loadBlock(t)}async function loadExternalPopup(e){var t=buildBlock("external-link-popup","");return e.append(t),decorateBlock(t),loadBlock(t)}async function loadCommonFragments(e){var t=buildBlock("common-fragments","");return e.append(t),decorateBlock(t),loadBlock(t)}async function loadFooter(e){var t=buildBlock("footer","");return e.append(t),decorateBlock(t),loadBlock(t)}async function waitForFirstImage(e){let t=e.querySelector("img");await new Promise(e=>{t&&!t.complete?(t.setAttribute("loading","eager"),t.addEventListener("load",e),t.addEventListener("error",e)):e()})}async function loadSection(e,t){var a=e.dataset.sectionStatus;if(!a||"initialized"===a){e.dataset.sectionStatus="loading";var o=[...e.querySelectorAll("div.block")];for(let e=0;e<o.length;e+=1)await loadBlock(o[e]);t&&await t(e),e.dataset.sectionStatus="loaded",e.style.display=null}}async function loadSections(e){var t=[...e.querySelectorAll("div.section")];for(let e=0;e<t.length;e+=1)await loadSection(t[e])}function formatDate(e){e=new Date(1e3*e);return String(e.getMonth()+1).padStart(2,"0")+`/${String(e.getDate()).padStart(2,"0")}/`+e.getFullYear()}function loadPublishedDate(){let o=window.location.pathname;fetch("/sitemap.json").then(e=>{if(e.ok)return e.json();throw new Error("Network response was not ok")}).then(e=>{e=e.data.find(e=>e.path===o);let t=null,a=null;e&&(e.lastModified&&(t=formatDate(e.lastModified)),e.lastPublished)&&(a=formatDate(new Date(e.lastPublished).getTime()/1e3)),window.BlogLastModified=t,window.BlogLastPublished=a}).catch(e=>{console.error("There was a problem with the fetch operation:",e)})}init();export{buildBlock,createOptimizedPicture,decorateBlock,decorateBlocks,decorateButtons,decorateIcons,decorateSections,decorateTemplateAndTheme,fetchPlaceholders,getMetadata,loadBlock,loadCSS,loadFooter,loadHeader,loadScript,loadSection,loadSections,readBlockConfig,sampleRUM,setup,toCamelCase,toClassName,waitForFirstImage,wrapTextNodes,loadPublishedDate,loadExternalPopup,loadCommonFragments};