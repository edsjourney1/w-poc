import{analyticsInit}from"./analytics.js";async function fetchSrOnlyData(){let t=document.querySelectorAll("span");fetch("/sr-only.json").then(e=>{if(e.ok)return e.json();throw new Error("Network response was not ok")}).then(e=>{t.forEach(n=>{e.data.forEach(e=>{var t;!n.classList.value.includes(e.identifier)||n.parentElement?.querySelector("del")||n.parentElement?.querySelector(".sr-only")||(n.closest("a")?((t=document.createElement("span")).innerText=e.textSr,t.classList.add("sr-only"),"_blank"===n.closest("a").target&&(t.innerText+=" opens in a new tab"),n.after(t)):n.previousElementSibling&&"A"===n.previousElementSibling.tagName?((t=document.createElement("span")).innerText=e.textSr,t.classList.add("sr-only"),"_blank"===n.previousElementSibling.target&&(t.innerText+=" opens in a new tab"),n.previousElementSibling.appendChild(t)):n.nextElementSibling&&"A"===n.nextElementSibling.tagName?((t=document.createElement("span")).innerText=e.textSr,t.classList.add("sr-only"),"_blank"===n.nextElementSibling.target&&(t.innerText+=" opens in a new tab"),n.nextElementSibling.appendChild(t)):((t=document.createElement("span")).innerText=e.textSr,t.classList.add("sr-only"),n.parentElement.appendChild(t)))})})}).catch(e=>{console.error("There was a problem with the fetch operation:",e)})}async function convertDelToSrSpan(){document.querySelectorAll("del").forEach(e=>{var t=document.createElement("span");t.classList.add("sr-only"),t.textContent=e.textContent,(e.parentElement?.querySelector("a")?e.parentElement.querySelector("a"):e.parentElement).appendChild(t),e.remove()})}async function navigationAccessibility(){var e,t=document.querySelector(".breadcrumbs");t&&(t=t.querySelector("a[aria-current]"),(e=document.createElement("span")).classList.add("sr-only"),e.textContent=t.parentElement.previousElementSibling.textContent,t.parentElement.previousElementSibling.querySelector(".breadcrumbs-prev").appendChild(e))}async function paginationAccessibility(){var e=document.querySelector(".pagination .count-result");e&&e.querySelectorAll("button").forEach(e=>{var t=document.createElement("span");t.classList.add("sr-only"),t.textContent="Page",e.prepend(t)})}async function addSrTextToBlogSocial(){let t=document.querySelectorAll(".blog-social-links span");fetch("/blog-sr-only.json").then(e=>{if(e.ok)return e.json();throw new Error("Network response was not ok")}).then(e=>{t.forEach(n=>{e.data.forEach(e=>{var t;n.classList.value.includes(e.identifier)&&(n.parentElement.parentElement?.querySelector("a")?(n.parentElement.querySelector(".sr-only")&&n.parentElement.querySelector(".sr-only").remove(),(t=document.createElement("span")).innerText=e.textSr,t.classList.add("sr-only"),n.after(t)):((t=document.createElement("span")).innerText=e.textSr,t.classList.add("sr-only"),n.parentElement.appendChild(t)))})})}).catch(e=>{console.error("There was a problem with the fetch operation:",e)})}async function addSrtextToAppstore(){var e,t,n=document.querySelector(".appstore-links");n&&(e=n.querySelector('a[href="https://itunes.wellmark.com/us/app/wellmark/id484542399?mt=8"]'),(t=document.createElement("span")).classList.add("sr-only"),t.textContent="Download the Wellmark app on the App Store",e.appendChild(t),e=n.querySelector('a[href="https://play.google.com/store/apps/details?id=com.wellmark.wellmark"]'),(t=document.createElement("span")).classList.add("sr-only"),t.textContent="Download the Wellmark app on Google Play",e.appendChild(t))}setTimeout(fetchSrOnlyData,5e3),convertDelToSrSpan(),navigationAccessibility(),paginationAccessibility(),addSrtextToAppstore(),setTimeout(addSrTextToBlogSocial,2e3),setTimeout(analyticsInit,100);