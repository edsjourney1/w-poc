import{setEqualHeights}from"../../scripts/tools.js";let hideOnMobile=e=>{450<parseInt(e.getAttribute("data-panelheight"),10)?e.classList.add("panels-item-closed"):e.classList.remove("panels-item-closed")},doPanelResize=(e,t,s)=>{[...t,...s].forEach(e=>{e.removeAttribute("style")}),window.matchMedia("(min-width: 768px)").matches?(setEqualHeights(t),setEqualHeights(s),e.forEach(e=>{e.removeAttribute("data-panelheight")})):e.forEach(e=>{e.setAttribute("data-panelheight",e.clientHeight),hideOnMobile(e)})};export default async function decorate(e){let t=Array.from(e.children),s=(t.forEach(e=>{var t,s=document.createElement("div"),[s,a,l,n]=(s.classList.add("panels-col"),e.classList.add("panels-item"),e.parentNode.insertBefore(s,e),s.appendChild(e),e.children);s?.classList.add("panels-top-section"),a?.classList.add("panels-bottom-section"),n?.classList.add("panels-toggle-section"),l?.children.length&&(e.classList.add("panels-item-has-label"),l.classList.add("panels-label-section")),n?.children.length&&(n.classList.add("panels-toggle-section-auto"),[s,a]=n.children,l=document.createElement("button"),t=document.createElement("button"),l.className="panels-toggle-section-open",t.className="panels-toggle-section-close",l.innerHTML=s.innerHTML,t.innerHTML=a.innerHTML,s.remove(),a.remove(),n.append(l),n.append(t),l.addEventListener("click",()=>{e.closest(".panels-item").classList.remove("panels-item-closed")}),t.addEventListener("click",()=>{e.closest(".panels-item").classList.add("panels-item-closed")}))}),Array.from(e.querySelectorAll(".panels-top-section"))),a=Array.from(e.querySelectorAll(".panels-bottom-section"));setTimeout(()=>{doPanelResize(t,s,a)},1e3),window.addEventListener("resize",()=>{setTimeout(()=>{doPanelResize(t,s,a)},1e3)})}