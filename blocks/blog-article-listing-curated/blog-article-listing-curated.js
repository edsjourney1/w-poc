import{renderImages}from"../../scripts/externalImage.js";import{excelDateToDate}from"../../scripts/tools.js";export default async function decorate(e){var t=e.children[0].children[0].innerText;let a=e.children[1].children[0].textContent,d=e.children[1].children[1].textContent,n=e.children[1].children[2].textContent;var i=document.createElement("div"),t=(""!==t&&((l=document.createElement("h2")).classList.add("title"),l.append(t),i.classList.add("heading-div"),i.append(l)),e.innerHTML="",document.createElement("div"));t.classList.add("cards-div"),e.append(i,t);var l=await(await fetch("/query-index.json")).json();let c=l.data.find(e=>new URL(e.url.trim()).pathname===a.trim());if(c){var e=document.createElement("div"),i=(e.classList.add("card-div"),new URL(c.url.trim()).pathname),r=document.createElement("div"),m=(r.classList.add("image-div"),document.createElement("a")),p=c.image.split("#"),s=(r.append(m),document.createElement("p")),p=(m.href=p[0],s.append(m),document.createElement("em")),m=document.createElement("a"),m=(m.href=`${i}#${c.title}-thumbnail`,p.append(m),s.append(p),r.append(s),renderImages(r),e.appendChild(r),document.createElement("div")),p=(m.classList.add("content-div"),e.appendChild(m),document.createElement("h3")),s=document.createElement("a"),r=(p.classList.add("card-title"),s.innerHTML=c.title,p.append(s),s.href=""+i,m.appendChild(p),document.createElement("div")),s=(r.classList.add("date-div"),m.appendChild(r),document.createElement("p")),i=(s.classList.add("date"),s.textContent=c.publishedDate,s.textContent=c.publishedDate.includes("/")?c.publishedDate:excelDateToDate(c.publishedDate),""!==c.publishedDate&&r.appendChild(s),document.createElement("p"));i.classList.add("read-time"),i.textContent=c.readTime+" min read",""!==c.readTime&&r.appendChild(i);let d=document.createElement("p");d.classList.add("category-list"),m.appendChild(d),c.tags.split(",").forEach(e=>{var t=document.createElement("a"),a=`/${c.segment}/tags/${e.trim().toLowerCase().replaceAll(" ","-").replaceAll("'","")} `;t.href=window.location.origin+a,t.textContent=e.trim(),t.title=e.trim(),d.append(t)}),t.appendChild(e)}let o=l.data.find(e=>new URL(e.url.trim()).pathname===d.trim());if(o){p=document.createElement("div"),s=(p.classList.add("card-div"),new URL(o.url.trim()).pathname),r=document.createElement("div"),i=(r.classList.add("image-div"),document.createElement("a")),m=o.image.split("#"),e=(r.append(i),document.createElement("p")),m=(i.href=m[0],e.append(i),document.createElement("em")),i=document.createElement("a"),i=(i.href=`${s}#${o.title}-thumbnail`,m.append(i),e.append(m),r.append(e),renderImages(r),p.appendChild(r),document.createElement("div")),m=(i.classList.add("content-div"),p.appendChild(i),document.createElement("h3")),e=document.createElement("a"),r=(m.classList.add("card-title"),e.innerHTML=o.title,m.append(e),e.href=""+s,i.appendChild(m),document.createElement("div")),e=(r.classList.add("date-div"),i.appendChild(r),document.createElement("p")),s=(e.classList.add("date"),e.textContent=o.publishedDate.includes("/")?o.publishedDate:excelDateToDate(o.publishedDate),""!==o.publishedDate&&r.appendChild(e),document.createElement("p"));s.classList.add("read-time"),s.textContent=o.readTime+" min read",""!==o.readTime&&r.appendChild(s);let d=document.createElement("p");d.classList.add("category-list"),i.appendChild(d),o.tags.split(",").forEach(e=>{var t=document.createElement("a"),a=`/${o.segment}/tags/${e.trim().toLowerCase().replaceAll(" ","-").replaceAll("'","")} `;t.href=window.location.origin+a,t.textContent=e.trim(),t.title=e.trim(),d.append(t)}),t.appendChild(p)}let h=l.data.find(e=>new URL(e.url.trim()).pathname===n.trim());if(h){m=document.createElement("div"),e=(m.classList.add("card-div"),new URL(h.url.trim()).pathname),r=document.createElement("div"),s=(r.classList.add("image-div"),document.createElement("a")),i=h.image.split("#"),p=(r.append(s),document.createElement("p")),l=(s.href=i[0],p.append(s),document.createElement("em")),i=document.createElement("a"),s=(i.href=`${e}#${h.title}-thumbnail`,l.append(i),p.append(l),r.append(p),renderImages(r),m.appendChild(r),document.createElement("div")),i=(s.classList.add("content-div"),m.appendChild(s),document.createElement("h3")),l=document.createElement("a"),p=(i.classList.add("card-title"),l.innerHTML=h.title,i.append(l),l.href=""+e,s.appendChild(i),document.createElement("div")),r=(p.classList.add("date-div"),s.appendChild(p),document.createElement("p")),l=(r.classList.add("date"),r.textContent=h.publishedDate.includes("/")?h.publishedDate:excelDateToDate(h.publishedDate),""!==h.publishedDate&&p.appendChild(r),document.createElement("p"));l.classList.add("read-time"),l.textContent=h.readTime+" min read",""!==h.readTime&&p.appendChild(l);let d=document.createElement("p");d.classList.add("category-list"),s.appendChild(d),h.tags.split(",").forEach(e=>{var t=document.createElement("a"),a=`/${h.segment}/tags/${e.trim().toLowerCase().replaceAll(" ","-").replaceAll("'","")} `;t.href=window.location.origin+a,t.textContent=e.trim(),t.title=e.trim(),d.append(t)}),t.appendChild(m)}}