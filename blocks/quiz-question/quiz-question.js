let wrapperDiv=document.querySelector(".quiz-question-container"),allDetails=document.querySelectorAll(".quiz-question"),allDetailsArr=[],validateForm=e=>{e.preventDefault();e=document.querySelectorAll(".quiz-question-wrapper");let o=!0,a=document.querySelector(".error-div"),d=document.querySelector(".error-div ul");d.innerHTML="";var t=wrapperDiv.getAttribute("data-caseone"),n=wrapperDiv.getAttribute("data-casetwo");let s=t.split("}}")[0].split("{{")[1];n.split("}}")[0].split("{{")[1];let c={win:0,loss:0};e.forEach(e=>{var t=e.querySelectorAll('input[type="radio"]');let n=e.querySelectorAll("h3").length,i=0;var r=e.querySelectorAll(".error-msg");let l=e.querySelector(".title");Array.from(t).some(e=>{if(e.checked&&(i++,e.id.includes(s)?c.win+=1:c.loss+=1),i===n)return e.checked})?(r.forEach(e=>e.style.display="none"),[...d.children].length<=0&&(a.style.display="none")):(r.forEach(e=>{console.log(e.textContent);var t=Array.from(e.parentElement.querySelectorAll('input[type="radio"]')).some(e=>e.checked),n=(t||(e.style.display="block"),t&&(e.style.display="none"),document.createElement("a"));console.log("appending li ",n),d.append(n),o=!1,n.href="#"+l.textContent.toLowerCase(),t||(n.textContent=e.textContent),n.addEventListener("click",e=>{e.preventDefault();e=l.getBoundingClientRect().top+window.pageYOffset-180;window.scrollTo({top:e,behavior:"smooth"})})}),a.style.display="block",e=a.getBoundingClientRect().top+window.pageYOffset,window.scrollTo({top:e-180,behavior:"smooth"}))}),o?(console.log(c),c&&(c.win>=c.loss?window.location.href=""+window.origin+t.split("}}")[1]:window.location.href=""+window.origin+n.split("}}")[1])):console.log("not valid")},init=()=>{let a=document.createElement("form");var e=document.createElement("div"),t=document.createElement("ul"),n=document.createElement("h4"),n=(n.innerHTML='<span class="icon"> <i class="fa-solid fa-triangle-exclamation"></i> </span> Please correct the following error(s):',t.prepend(n),e.append(n,t),e.classList.add("error-div"),e.style.display="none",a.prepend(e),a.setAttribute("id","quiz-form-2"),a.action="/",a.setAttribute("validate","novalidate"),a.onsubmit=e=>{validateForm(e)},allDetailsArr.forEach((t,l)=>{var n=t.closest(".quiz-question-wrapper");let o=t.children[0].children[0].children[0];o.classList.add("title");var i=t.children[1].children[0].children[0],i=(void 0!==i&&""!==i&&i.classList.add("option-text"),t.children[2].children[0].children[0]);i.classList.add("question");let e=document.createElement("span"),r=(e.classList.add("error-msg"),e.innerHTML=`<span class="icon"> <i class="fa-solid fa-triangle-exclamation"></i> </span> ${i.textContent} required!`,e.style.display="none",n.children[0].children[3].append(e),a.append(n),t.children[3].setAttribute("aria-labelledby",o.textContent+"-question1-group"),t.children[3].setAttribute("role","radiogroup"),t.children[3].querySelectorAll("div p"));if(r.forEach(e=>{var t=document.createElement("input"),n=document.createElement("label"),i=e.textContent.split("}"),r=i[0].split("{")[1];n.id=""+r+l+`-${o.textContent}-question1`,n.textContent=i[1],t.type="radio",t.name=`radio-${o.textContent.toLowerCase()}-question1`,t.id=""+r+l+`-${o.textContent}-question1`,t.setAttribute("aria-labelledby",n.id),t.setAttribute("aria-required",!0),n.setAttribute("for",t.getAttribute("id")),t.value=e.textContent.trim(),e.replaceWith(t,n)}),void 0!==t?.children[4]?.children[0]?.children[0]&&""!==t?.children[4]?.children[0]?.children[0]&&"DIV"===t.children[4].tagName){(i=t.children[4].children[0].children[0]).classList.add("question"),i.classList.add("padding-24");let e=document.createElement("span");e.classList.add("error-msg"),e.innerHTML=`<span class="icon"> <i class="fa-solid fa-triangle-exclamation"></i> </span> ${i.textContent} required!`,e.style.display="none",n.children[0].children[5].append(e),a.append(n)}void 0!==t?.children[5]?.children[0]?.children[0]&&""!==t?.children[5]?.children[0]?.children[0]&&(t.children[5].setAttribute("aria-labelledby",o.textContent+"-question2-group"),t.children[5].setAttribute("role","radiogroup"),(r=t.children[5].querySelectorAll("div p")).forEach(e=>{var t=document.createElement("input"),n=(t.type="radio",t.name=`radio-${o.textContent.toLowerCase()}-question2`,document.createElement("label")),i=e.textContent.split("}"),r=i[0].split("{")[1];n.id=""+r+l+`-${o.textContent}-question1`,n.textContent=i[1],t.id=""+r+l+`-${o.textContent}-question2`,t.setAttribute("aria-labelledby",n.id),t.setAttribute("aria-required",!0),n.setAttribute("for",t.getAttribute("id")),t.value=e.textContent.trim(),n.setAttribute("for",t.id),e.replaceWith(t,n)}))}),document.createElement("div")),t=(n.classList.add("quiz-button-wrapper"),document.createElement("button"));t.textContent="Get results",t.classList.add("primary","button"),n.append(t),a.append(n),wrapperDiv.append(a)};export default function decorate(e){allDetailsArr.push(e),allDetailsArr.length===allDetails.length&&init()}