import{createOptimizedPicture}from"../../scripts/aem.js";export default function decorate(e){var t,r,c=document.querySelector(".promo-image > div > div > p");c&&(r=c.querySelector("picture img"),c=c.querySelector("a"),r?(r=r.src,a=e.children[1].innerText,(t=e.parentElement).style.background=`url(${r})`,t.style.backgroundSize="cover",t.style.backgroundPosition="center",t.style.backgroundRepeat="no-repeat",(r=document.createElement("h2")).classList.add("promo-image-heading"),r.textContent=""+a,t.prepend(r)):c&&(a=c.href,t=e.children[1].innerText,(r=e.parentElement).style.background=`url(${a})`,r.style.backgroundSize="cover",r.style.backgroundPosition="center",r.style.backgroundRepeat="no-repeat",(c=document.createElement("h2")).classList.add("promo-image-heading"),c.textContent=""+t,r.prepend(c)));let n=document.createElement("ul");var a=`promo-${e.children.length-2}-column`;n.classList.add(a),[...e.children].forEach((e,t)=>{if(1<t){for(var r=document.createElement("li");e.firstElementChild;)r.append(e.firstElementChild);[...r.children].forEach(e=>{1===e.children.length&&e.querySelector("picture")?e.className="cards-card-image":e.className="cards-card-body"}),n.append(r)}}),n.querySelectorAll("picture > img").forEach(e=>e.closest("picture").replaceWith(createOptimizedPicture(e.src,e.alt,!1,[{width:"750"}]))),e.textContent="",e.append(n)}