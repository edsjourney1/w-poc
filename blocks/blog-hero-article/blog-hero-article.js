import{renderImages}from"../../scripts/externalImage.js";import{excelDateToDate}from"../../scripts/tools.js";export default async function decorate(e){let t=String(e.children[0].textContent);e.innerHTML="";let n=(await(await fetch("/query-index.json")).json()).data.find(e=>new URL(e.url.trim()).pathname===t.trim());var a=new URL(n.url).pathname,d=document.createElement("div"),r=document.createElement("div"),c=(r.classList.add("image-div"),document.createElement("a")),i=n.image.split("#"),p=(r.append(c),document.createElement("p")),i=(c.href=i[0],p.append(c),document.createElement("em")),c=document.createElement("a"),a=(c.href=`${a}#${n.title}-thumbnail`,i.append(c),p.append(i),r.append(p),renderImages(r),document.createElement("div")),c=(a.classList.add("content-div"),document.createElement("p")),i=(c.classList.add("button-container"),document.createElement("a")),p=(i.classList.add("button","primary"),i.setAttribute("href",""+t),i.innerText="Read more",i.ariaLabel=`Read more about the ${n.title} article`,c.append(i),document.createElement("div")),i=(p.classList.add("date-div"),document.createElement("div")),l=document.createElement("p"),m=document.createElement("h2"),s=n.text;let o;s?.includes(".jpg")&&(o=s.split(".jpg")),s?.includes(".png")&&(o=s.split(".png")),m.append(n.title),l.append(o[1].trim()),i.append(l),i.classList.add("description");var s=document.createElement("p"),l=document.createElement("span"),u=document.createElement("p"),u=(u.classList.add("date"),u.textContent=n.publishedDate.includes("/")?n.publishedDate:excelDateToDate(n.publishedDate),""!==n.publishedDate&&l.append(u),document.createElement("span"));""!==n.readTime&&u.append(n.readTime+" min read"),s.append(l,u);let E=document.createElement("p");E.classList.add("category-list"),n.tags.split(",").forEach(e=>{var t=document.createElement("a"),a=`/${n.segment}/tags/`+e.trim().toLowerCase().replaceAll(" ","-").replaceAll("'","");t.href=window.location.origin+a,t.textContent=e.trim(),E.append(t)}),p.append(s,E),a.append(m,p,i,c),d.append(r,a),e.append(d)}